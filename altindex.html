<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

<!--STYLE SHEETS --> 

<link href="css/style.css" rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/css/materialize.min.css">
 <link rel="stylesheet" href="http://s.mlcdn.co/animate.css">



<!--FONTS-->

<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,800' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Lora:400,400italic,700italic' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Libre+Baskerville:400,400italic' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Lato:400,900' rel='stylesheet' type='text/css'>
<link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link href='https://fonts.googleapis.com/css?family=Amatic+SC:400,700' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Andika' rel='stylesheet' type='text/css'>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>



</head>

<body>




<section id="base">
<header id="background">
		<div class="titles">
		<div class="container-fluid">
		<div class="row">
		<div class="col-xs-12 col-lg-12">
		<div id="temperature" class="temperature text-center"></div></div></div>
		<div class="row">
		<div class="col-lg-12">
		<div id="weathertype" class="weathertype text-center"></div></div></div>
		<div class="row">
		<div class="col-lg-4 col-lg-offset-4">
		<div id="weatherpic" class="weatherpic">
	
	
	<img id="atmospheric" class="imghide" src="/img/sun.png">
	<img id="clear" class="imghide" src="/img/sun.png">
	<img id="cloudy" class="imghide" src="/img/cloudyanim.gif">
	<img id="drizzle" class="imghide"  src="/img/raining.png">
	<img id="other" class="imghide"  src="/img/other.gif">
	<img id="severe" class="imghide" src="/img/raining.png">
	<img id="snow" class="imghide" src="/img/snow.png">
	<img id="thunderstorm" class="imghide" src="/img/raining.png">
</div></div></div>
	<div class="row">
	<div class="col-lg-2 col-lg-offset-4">
	<button id="celsius"  class="custom-but center-block">CELSIUS PLEASE!</button></div>
	<div class="col-lg-2">
	<button id="changeback" class="custom-but center-block">FAHRENHEIT PLEASE!</button>

	</div></div>
					
			</div></div></div></div></div></section></header>

	
<script>
var lat;
var long ;
var weatherAPI;
function findNum() {
var weathercode;
var tempout;
var conditionout;

navigator.geolocation.getCurrentPosition(function(position) {

	lat = position.coords.latitude;
	long = position.coords.longitude;
	weatherAPI = "http://api.openweathermap.org/data/2.5/weather?lat="+lat+"&lon="+long+"&APPID=b2158880b15608e130f085229b7cb5be"; 
	$.getJSON(weatherAPI, function(data) {
		conditionout = (data.weather[0].description);
		$(".weathertype").html(conditionout);
		tempout = Math.floor((data.main.temp) * (9/5) -(459.67)) + " F";
		tempoutc = Math.floor((data.main.temp) -(273.15)) + " C";

		$(".temperature").html(tempout);

		weathercode = (data.weather[0].id);


		if (weathercode >=200 && weathercode <=232) {
			$("#thunderstorm").removeClass("imghide").addClass("imgshow");
		}
		else if (weathercode >=300 && weathercode <=321) {
			$("#drizzle").removeClass("imghide").addClass("imgshow");
		}

		else if (weathercode >=500 && weathercode <=531) {
			$("#thunderstorm").removeClass("imghide").addClass("imgshow");
		}

		else if (weathercode >=600 && weathercode <=622) {
			$("#snow").removeClass("imghide").addClass("imgshow");
		}

		else if (weathercode >=700 && weathercode <=781) {
			$("#atmospheric").removeClass("imghide").addClass("imgshow");
		}

		else if (weathercode == 800) {
			$("#clear").removeClass("imghide").addClass("imgshow");
		}

		else if (weathercode >= 801 && weathercode <= 804) {
			$("#cloudy").removeClass("imghide").addClass("imgshow");
		}
	

		function changetoCelsius() {
			$(".temperature").html(tempoutc);
		}
		function changebacktoF() {
			$(".temperature").html(tempout);
		}

		$(function(){
			$("#celsius").click(changetoCelsius);
			$("#changeback").click(changebacktoF);
		});

		


		
		



	})






});
}


findNum();


</script>

	

</body>